CREATE TABLE t0 (c0 INTEGER, c1 INTEGER); INSERT INTO t0 VALUES (1, 10); INSERT INTO t0 VALUES (2, 25); INSERT INTO t0 VALUES (3, 30); INSERT INTO t0 VALUES (4, 15); INSERT INTO t0 VALUES (5, 50); SELECT c0, c1, COUNT(CASE WHEN c1 > 20 THEN 1 END) OVER () AS count_filtered FROM t0;