CREATE TABLE t0 (c0 INTEGER, c1 VARCHAR(10), c2 DOUBLE, c3 FLOAT); INSERT INTO t0 (c0, c1, c2, c3) VALUES (1, 'v0', 100.1, 1.1), (2, 'v1', 200.2, 2.2), (3, 'v2', 300.3, 3.3), (4, 'v3', 100.1, 4.4), (5, 'v4', 200.2, 5.5); SELECT c0, c1, c2, c3, RANK() OVER (PARTITION BY c1 ORDER BY c2 DESC, c3 ASC) AS rank_value FROM t0;